{% extends 'base.html.twig' %} 
{% block title %}
Mes ingrédients - Project 
{% endblock %} 
{% block body %}

<div class="container mt-4">
  {% if not ingredients.items is same as([]) %}
  <h1>Mes ingrédients</h1>
  <a href="{{ path('app_ingredient_create') }}" class="btn btn-primary mt-4"
    >Ajouter un ingrédient</a
  >
  {% for message in app.flashes('success') %}
  <div class="alert-success">
    {{ message }}
  </div>
  {% endfor %}
  <div class="count mt-4">
    Il y a {{ ingredients.getTotalItemCount }} ingrédients
  </div>
  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">Numéro</th>
        <th scope="col">Nom</th>
        <th scope="col">Prix</th>
        <th scope="col">Date de création</th>
      </tr>
    </thead>
    <tbody>
      {% for ingredient in ingredients %}
      <tr class="table-light">
        <th scope="row">{{ ingredient.id }}</th>
        <td>{{ ingredient.name }}</td>
        <td>{{ ingredient.price }}</td>
        <td>{{ ingredient.createdAt | date('d/m/Y') }}</td>
        <td>
          <a 
          href="{{ path('app_ingredient_update', { id: ingredient.id }) }}" 
          class="btn btn-info">Modifier</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <div class="navigation d-flex justify-content-center">
    {{ knp_pagination_render(ingredients) }}
  </div>
  {% else %}
  <h4>Il n'y a pas d'ingrédients.</h4>
  {% endif %}
</div>
{% endblock %}
